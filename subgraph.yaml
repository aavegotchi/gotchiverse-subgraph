specVersion: 0.0.4
# features:
#   - grafting
# graft:
#   base: QmV3UGEkvsvEzL5GcDXqBxHqZyF4au6vPWNNZHLuz1ohSe # Subgraph ID of base subgraph
#   block: 28000000 # Block number
schema:
    file: ./schema.graphql
dataSources:
    - kind: ethereum/contract
      name: RealmDiamond
      network: matic
      source:
          address: "0x1d0360bac7299c86ec8e99d0c1c9a95fefaf2a11"
          abi: RealmDiamond
          startBlock: 20667840
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.6
          language: wasm/assemblyscript
          entities:
              - ChannelAlchemica
              - EquipTileEvent
              - UnequipTileEvent
          abis:
              - name: RealmDiamond
                file: ./abis/RealmDiamond.json
              - name: InstallationDiamond
                file: ./abis/InstallationDiamond.json
              - name: TileDiamond
                file: ./abis/TileDiamond.json
          eventHandlers:
              - event: AlchemicaClaimed(indexed uint256,indexed uint256,indexed uint256,uint256,uint256,uint256)
                handler: handleAlchemicaClaimed
              - event: ChannelAlchemica(indexed uint256,indexed uint256,uint256[4],uint256,uint256)
                handler: handleChannelAlchemica
              - event: ExitAlchemica(indexed uint256,uint256[])
                handler: handleExitAlchemica(indexed uint256,uint256[])
              - event: EquipInstallation(uint256,uint256,uint256,uint256)
                handler: handleEquipInstallation
              - event: InstallationUpgraded(uint256,uint256,uint256,uint256,uint256)
                handler: handleInstallationUpgraded
              - event: UnequipInstallation(uint256,uint256,uint256,uint256)
                handler: handleUnequipInstallation
              - event: EquipTile(uint256,uint256,uint256,uint256)
                handler: handleEquipTile
              - event: UnequipTile(uint256,uint256,uint256,uint256)
                handler: handleUnequipTile
              - event: Transfer(indexed address,indexed address,indexed uint256)
                handler: handleTransfer
              - event: MintParcel(indexed address,indexed uint256)
                handler: handleMintParcel
              - event: ResyncParcel(uint256)
                handler: handleResyncParcel
          file: ./src/mappings/realm.ts
    - kind: ethereum/contract
      name: TileDiamond
      network: matic
      source:
          address: "0x9216c31d8146bCB3eA5a9162Dc1702e8AEDCa355"
          abi: TileDiamond
          startBlock: 27231106
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.6
          language: wasm/assemblyscript
          entities:
              - MintTileEvent
              - TileType
          abis:
              - name: RealmDiamond
                file: ./abis/RealmDiamond.json
              - name: InstallationDiamond
                file: ./abis/InstallationDiamond.json
              - name: TileDiamond
                file: ./abis/TileDiamond.json
          eventHandlers:
              - event: MintTile(indexed address,indexed uint256,uint256)
                handler: handleMintTile
              - event: MintTiles(indexed address,indexed uint256,uint16)
                handler: handleMintTiles
              - event: CraftTimeReduced(indexed uint256,uint256)
                handler: handleCraftTimeReduced
              - event: URI(string,indexed uint256)
                handler: handleURI
          file: ./src/mappings/tile.ts
    - kind: ethereum/contract
      name: InstallationDiamond
      network: matic
      source:
          address: "0x19f870bD94A34b3adAa9CaA439d333DA18d6812A"
          abi: InstallationDiamond
          startBlock: 26540482
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.6
          language: wasm/assemblyscript
          entities:
              - MintInstallationEvent
              - UpgradeInitiatedEvent
              - AddInstallationTypeEvent
              - EditInstallationTypeEvent
              - DeprecateInstallationEvent
          abis:
              - name: RealmDiamond
                file: ./abis/RealmDiamond.json
              - name: InstallationDiamond
                file: ./abis/InstallationDiamond.json
              - name: TileDiamond
                file: ./abis/TileDiamond.json
          file: ./src/mappings/installation.ts
          eventHandlers:
              - event: MintInstallation(indexed address,indexed uint256,uint256)
                handler: handleMintInstallation
              - event: MintInstallations(indexed address,indexed uint256,uint16)
                handler: handleMintInstallations
              - event: UpgradeInitiated(indexed uint256,uint256,uint256,uint256,uint256,uint256)
                handler: handleUpgradeInitiated
              - event: AddInstallationType(uint256)
                handler: handleAddInstallationType
              - event: EditInstallationType(uint256)
                handler: handleEditInstallationType
              - event: DeprecateInstallation(uint256)
                handler: handleDeprecateInstallation
              - event: CraftTimeReduced(indexed uint256,uint256)
                handler: handleCraftTimeReduced
              - event: UpgradeTimeReduced(indexed uint256,indexed uint256,uint256,uint256,uint256)
                handler: handleUpgradeTimeReduced
              - event: UpgradeFinalized(indexed uint256,uint256,uint256,uint256)
                handler: handleUpgradeFinalized
              - event: UpgradeQueued(indexed address,indexed uint256,indexed uint256)
                handler: handleUpgradeQueued
              - event: URI(string,indexed uint256)
                handler: handleURI
    - kind: ethereum/contract
      name: AavegotchiDiamond
      network: matic
      source:
          address: "0x86935F11C86623deC8a25696E1C19a8659CbF95d"
          abi: AavegotchiDiamond
          startBlock: 11500000
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.6
          language: wasm/assemblyscript
          file: ./src/mappings/core.ts
          entities:
              - User
          abis:
              - name: AavegotchiDiamond
                file: ./abis/AavegotchiDiamond.json
          eventHandlers:
              - event: BuyPortals(indexed address,indexed address,uint256,uint256,uint256)
                handler: handleBuyPortals
              - event: Xingyun(indexed address,indexed address,uint256,uint256,uint256)
                handler: handleXingyun
              - event: PortalOpened(indexed uint256)
                handler: handlePortalOpened
              - event: ClaimAavegotchi(indexed uint256)
                handler: handleClaimAavegotchi
              # - event: IncreaseStake(indexed uint256,uint256)
              #   handler: handleIncreaseStake
              # - event: DecreaseStake(indexed uint256,uint256)
              #   handler: handleDecreaseStake
              - event: SpendSkillpoints(indexed uint256,int16[4])
                handler: handleSpendSkillpoints
              - event: EquipWearables(indexed uint256,uint16[16],uint16[16])
                handler: handleEquipWearables
              - event: SetAavegotchiName(indexed uint256,string,string)
                handler: handleSetAavegotchiName
              # - event: UseConsumables(indexed uint256,uint256[],uint256[])
              #   handler: handleUseConsumables
              - event: GrantExperience(uint256[],uint256[])
                handler: handleGrantExperience
              - event: AavegotchiInteract(indexed uint256,uint256)
                handler: handleAavegotchiInteract
              - event: Transfer(indexed address,indexed address,indexed uint256)
                handler: handleTransfer
              # - event: ERC721ListingAdd(indexed uint256,indexed address,address,uint256,indexed uint256,uint256)
              #   handler: handleERC721ListingAdd
              # - event: ERC721ExecutedListing(indexed uint256,indexed address,address,address,uint256,indexed uint256,uint256,uint256)
              #   handler: handleERC721ExecutedListing
              # - event: ERC721ListingCancelled(indexed uint256,uint256,uint256)
              #   handler: handleERC721ListingCancelled
              # - event: ERC721ListingRemoved(indexed uint256,uint256,uint256)
              #   handler: handleERC721ListingRemoved
              # - event: ERC1155ListingAdd(indexed uint256,indexed address,address,uint256,indexed uint256,uint256,uint256,uint256)
              #   handler: handleERC1155ListingAdd
              # - event: ERC1155ExecutedListing(indexed uint256,indexed address,address,address,uint256,indexed uint256,uint256,uint256,uint256)
              #   handler: handleERC1155ExecutedListing
              # - event: ERC1155ListingCancelled(indexed uint256,uint256,uint256)
              #   handler: handleERC1155ListingCancelled
              # - event: ERC1155ListingRemoved(indexed uint256,uint256,uint256)
              #   handler: handleERC1155ListingRemoved
              # - event: UpdateERC1155Listing(indexed uint256,uint256,uint256,uint256)
              #   handler: handleERC1155ListingUpdated
              - event: AddItemType((string,string,string,int8[6],bool[16],uint8[],(uint8,uint8,uint8,uint8),uint256,uint256,uint256,uint32,uint8,bool,uint16,bool,uint8,int16,uint32))
                handler: handleAddItemType
              # - event: AddWearableSet((string,uint8[],uint16[],int8[5]))
              #   handler: handleAddWearableSet
              # - event: PurchaseItemsWithGhst(indexed address,indexed address,uint256[],uint256[],uint256)
              #   handler: handlePurchaseItemsWithGhst
              # - event: PurchaseItemsWithVouchers(indexed address,indexed address,uint256[],uint256[])
              #   handler: handlePurchaseItemsWithVouchers
              # - event: MigrateVouchers(indexed address,uint256[],uint256[])
              #   handler: handleMigrateVouchers
              # - event: UpdateWearableSet(uint256,(string,uint8[],uint16[],int8[5]))
              #   handler: handleUpdateWearableSet
              # - event: ItemTypeMaxQuantity(uint256[],uint256[])
              #   handler: handleItemTypeMaxQuantity
              - event: ExperienceTransfer(indexed uint256,indexed uint256,uint256)
                handler: handleExperienceTransfer
              - event: ItemModifiersSet(uint256,int8[6],uint8)
                handler: handleItemModifiersSet
              # - event: WearableSlotPositionsSet(uint256,bool[16])
              #   handler: handleWearableSlotPositionsSet
              - event: MintPortals(indexed address,indexed address,uint256,uint256,uint256)
                handler: handleMintPortals
              - event: RemoveExperience(uint256[],uint256[])
                handler: handleRemoveExperience
              # - event: UpdateItemPrice(uint256,uint256)
              #   handler: handleUpdateItemPrice
              # - event: ERC1155ExecutedToRecipient(indexed uint256,indexed address,indexed address)
              #   handler: handleERC1155ExecutedToRecipient
              # - event: ERC721ExecutedToRecipient(indexed uint256,indexed address,indexed address)
              #   handler: handleERC721ExecutedToRecipient
              - event: GotchiLendingAdded(indexed uint32,indexed address,indexed uint32,uint96,uint32,uint8[3],address,address,uint32,address[],uint256)
                handler: handleGotchiLendingAdded
              - event: GotchiLendingClaimed(indexed uint32,indexed address,indexed address,uint32,uint96,uint32,uint8[3],address,address,uint32,address[],uint256[],uint256)
                handler: handleGotchiLendingClaimed
              - event: GotchiLendingEnded(indexed uint32,indexed address,indexed address,uint32,uint96,uint32,uint8[3],address,address,uint32,address[],uint256)
                handler: handleGotchiLendingEnded
              - event: GotchiLendingExecuted(indexed uint32,indexed address,indexed address,uint32,uint96,uint32,uint8[3],address,address,uint32,address[],uint256)
                handler: handleGotchiLendingExecuted
              - event: GotchiLendingCanceled(indexed uint32,indexed address,indexed uint32,uint96,uint32,uint8[3],address,address,uint32,address[],uint256)
                handler: handleGotchiLendingCanceled
              - event: WhitelistCreated(indexed uint32)
                handler: handleWhitelistCreated
              - event: WhitelistUpdated(indexed uint32)
                handler: handleWhitelistUpdated
